@model List<Student>
    @{
    Layout = null;
    }

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Students List</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
        <style>
            body {
                background-color: #ADD8E6;
                padding: 30px;
                min-height: 100vh;
            }

            h1 {
                color: #0d6efd;
                margin-bottom: 30px;
                text-align: center;
            }

            table {
                background-color: white;
            }

            th {
                background-color: #e0f0ff;
                text-align: center;
            }

            td {
                text-align: center;
                vertical-align: middle;
            }

            .container-flex {
                display: flex;
                flex-wrap: wrap;
                gap: 20px;
            }

            .table-column {
                flex: 2 1 600px;
            }

            .image-column {
                flex: 1 1 200px;
                align-self: flex-end;
            }

            .student-image {
                max-height: 200px;
                border-radius: 10px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.2);
                margin-top: 20px;
            }

            @@media (max-width: 768px) {
                .container-flex {
                    flex-direction: column;
                }

                .image-column {
                    align-self: flex-start;
                }
            }
        </style>
    </head>
    <body>

        <div class="container-fluid">
            <h1>Students List</h1>

            <div class="container-flex">

                <div class="table-column">

                  
                    <form asp-action="Search" asp-controller="Student" method="get"
                          class="d-flex justify-content-between align-items-center mb-3">

                        <div>
                            Enter student name:
                            <input type="text" name="SearchKey" class="form-control d-inline-block w-auto me-2" />
                            <button type="submit" class="btn btn-primary">Search</button>
                        </div>

                        
                        <a asp-action="Add"
                           asp-controller="Student"
                           class="btn btn-success rounded-circle d-flex align-items-center justify-content-center"
                           style="width:55px; height:55px;"
                           title="Add Student">
                            <i class="bi bi-plus fs-2 text-white"></i>
                        </a>

                    </form>

                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Student Id</th>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Email</th>
                                    <th>Courses</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var s in Model ?? new List<Student>())
                        {
                                <tr>
                                    <td>@s.StudentId</td>
                                    <td>@s.FirstName</td>
                                    <td>@s.LastName</td>
                                    <td>@s.Email</td>
                                    <td>
                                        @foreach(var e in s.Enrollments ?? new List<Enrollment>())
                                    {
                                        @e.Course?.Title <br />
                                    }
                                    </td>
                                    <td>
                                        <a asp-action="Delete" asp-controller="Student" asp-route-id="@s.StudentId" class="btn btn-sm btn-danger">Delete</a>
                                    </td>
                                </tr>
                        }
                            </tbody>
                        </table>
                    </div>
                </div>


            </div>
        </div>

    </body>
</html>
